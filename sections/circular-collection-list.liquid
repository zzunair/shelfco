

<!-- circular collection list -->
<div id="circular-collection-list" class="wow fadeIn" data-wow-delay="300ms">
  <section
    id="{{ section.id }}"
    data-section-id="{{ section.id }}"
    data-section-type="circular-collection-banners"
    class="home-grid {{ _colClassLayout }} circular-collection-category"
  >
    <div class="grid-wrapper">
      {% for block in section.blocks %}
        {% if block.settings.collection != empty %}
          {% assign collection_title = block.settings.collection.title %}
          {% assign collection_url = block.settings.collection.url %}
          {% assign image_custom = block.settings.image %}
          {% assign font_color = block.settings.font_color %}
          {% assign bg_color = block.settings.bg_color %}

          {% if block.settings.image != blank %}
            {% assign collection_image = block.settings.image %}
          {% elsif block.settings.collection.image %}
            {% assign collection_image = block.settings.collection.image %}
          {% else %}
            {% assign collection_image = block.settings.collection.featured_image %}
          {% endif %}

        {% else %}
          {% assign collection_title = block.settings.custom_title | default: 'Collection' %}
          {% assign collection_url = block.settings.custom_link | default: '#' %}
          {% assign image_custom = block.settings.image %}
          {% assign collection_image = block.settings.image %}
          {% assign font_color = block.settings.font_color %}
          {% assign bg_color = block.settings.bg_color %}
        {% endif %}

        <div class="grid-item" {{ block.shopify_attributes }}>
          {% style %}
            #{{ section.id }} .item-{{ forloop.index0 }} .circular-title {
              color: {{ font_color }};
            }
            #{{ section.id }} .item-{{ forloop.index0 }} .image-container {
              background-color: {{ bg_color }};
            }
          {% endstyle %}
          
          <div class="circular-collection-item item-{{ forloop.index0 }}">
            <a href="{{ block.settings.custom_link | default: collection_url }}" class="collection-link">
              <div class="image-container">
                {% if image_custom != blank %}
                  <img
                    class="circular-image"
                    src="{{ image_custom | img_url: '300x300', crop: 'center' }}"
                    loading="lazy"
                    width="150"
                    height="150"
                    alt="{{ block.settings.custom_title | default: collection_title | escape }}"
                  >
                {% elsif collection_image %}
                  <img
                    class="circular-image"
                    src="{{ collection_image | img_url: '300x300', crop: 'center' }}"
                    loading="lazy"
                    width="150"
                    height="150"
                    alt="{{ block.settings.custom_title | default: collection_title | escape }}"
                  >
                {% else %}
                  <div class="placeholder-image">
                    {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
                  </div>
                {% endif %}
              </div>
              <div class="circular-title-wrapper">
                <h3 class="circular-title">
                  {{ block.settings.custom_title | default: collection_title | escape }}
                </h3>
              </div>
            </a>
          </div>
        </div>
      {% endfor %}
    </div>
  </section>
</div>
<!-- /circular collection list -->

{% schema %}
{
  "name": "Circular Collection List",
  "class": "circular-collection-list",
  "max_blocks": 10,
  "settings": [
  ],
  "blocks": [
    {
      "type": "collection_item",
      "name": "Collection Item",
      "settings": [
        {
          "label": "Collection",
          "id": "collection",
          "type": "collection",
          "info": "If you prefer to use custom settings, leave this empty"
        },
        {
          "type": "text",
          "id": "custom_title",
          "label": "Custom title",
          "info": "Override the collection title"
        },
        {
          "type": "url",
          "id": "custom_link",
          "label": "Custom link",
          "info": "Override the collection URL"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Custom image",
          "info": "Square image recommended (e.g., 300px x 300px)"
        },
        {
          "type": "color",
          "id": "font_color",
          "label": "Text color",
          "default": "#000000"
        },
        {
          "type": "color",
          "id": "bg_color",
          "label": "Background color",
          "default": "#FFFFFF"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Circular Collection List",
      "category": "Collections",
      "blocks": [
        {
          "type": "collection_item"
        },
        {
          "type": "collection_item"
        },
        {
          "type": "collection_item"
        },
        {
          "type": "collection_item"
        },
        {
          "type": "collection_item"
        }
      ]
    }
  ]
}
{% endschema %}

{% style %}
#circular-collection-list .grid-wrapper {
  display: flex;
  flex-wrap: nowrap;
  justify-content: flex-start;
  gap: 20px;
  margin: 0 auto;
  max-width: 1440px;
  padding: 20px 15px;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scroll-behavior: smooth;
}

#circular-collection-list .grid-wrapper::-webkit-scrollbar {
  height: 6px;
}

#circular-collection-list .grid-wrapper::-webkit-scrollbar-track {
  background: #f1f1f1;
  border-radius: 10px;
}

#circular-collection-list .grid-wrapper::-webkit-scrollbar-thumb {
  background: #888;
  border-radius: 10px;
}

#circular-collection-list .grid-wrapper::-webkit-scrollbar-thumb:hover {
  background: #555;
}

#circular-collection-list .grid-item {
  text-align: center;
  flex: 0 0 auto;
  width: 150px;
  margin-bottom: 10px;
}

#circular-collection-list .circular-collection-item {
  display: flex;
  flex-direction: column;
  align-items: center;
}

#circular-collection-list .collection-link {
  text-decoration: none;
  display: flex;
  flex-direction: column;
  align-items: center;
}

#circular-collection-list .image-container {
  width: 120px;
  height: 120px;
  border-radius: 50%;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 10px;
  border: 1px solid #e8e8e8;
}

#circular-collection-list .circular-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

#circular-collection-list .placeholder-image {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

#circular-collection-list .circular-title-wrapper {
  margin-top: 10px;
}

#circular-collection-list .circular-title {
  font-size: 14px;
  font-weight: 500;
  margin: 0;
  text-align: center;
  text-overflow: ellipsis;
  max-width: 120px;
}

@media (max-width: 767px) {
  #circular-collection-list .image-container {
    width: 100px;
    height: 100px;
  }
  
  #circular-collection-list .grid-item {
    width: 120px;
  }
  
  #circular-collection-list .circular-title {
    max-width: 100px;
  }
}

@media (max-width: 480px) {
  #circular-collection-list .image-container {
    width: 80px;
    height: 80px;
  }
  
  #circular-collection-list .grid-item {
    width: 100px;
  }
  
  #circular-collection-list .circular-title {
    max-width: 80px;
    font-size: 12px;
  }
}
{% endstyle %}